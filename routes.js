var helper = require('./helper.js');

class routes {

	constructor() {

		// https://developers.google.com/maps/documentation/javascript/examples/polyline-complex?hl=de
		// JSON.stringify(poly.getPath().getArray())
		this.routes = [
			{
				"line": "2",
				"color": "#A4814D",
				"waypoints": [{"lat":47.53796339956123,"lng":7.571597099304199},{"lat":47.538354523010184,"lng":7.5716400146484375},{"lat":47.5389991460312,"lng":7.572369575500488},{"lat":47.53975964614615,"lng":7.573002576828003},{"lat":47.54149789069997,"lng":7.574043273925781},{"lat":47.542012110333815,"lng":7.574343681335449},{"lat":47.543221592968855,"lng":7.575287818908691},{"lat":47.54418481366935,"lng":7.575556039810181},{"lat":47.54403272736696,"lng":7.5813281536102295},{"lat":47.54572013639138,"lng":7.583173513412476},{"lat":47.546784696972324,"lng":7.584235668182373},{"lat":47.547393007597066,"lng":7.584718465805054},{"lat":47.5487399559998,"lng":7.5858986377716064},{"lat":47.54887030400823,"lng":7.586349248886108},{"lat":47.548653057147405,"lng":7.587733268737793},{"lat":47.54798682782584,"lng":7.589364051818848},{"lat":47.548088211094985,"lng":7.5899434089660645},{"lat":47.548653057147405,"lng":7.590479850769043},{"lat":47.54921789711257,"lng":7.590318918228149},{"lat":47.54956548791167,"lng":7.589750289916992},{"lat":47.55032583474798,"lng":7.590458393096924},{"lat":47.55069514208837,"lng":7.590962648391724},{"lat":47.55197683561051,"lng":7.591102123260498},{"lat":47.55355537551504,"lng":7.591917514801025},{"lat":47.55386311284784,"lng":7.592207193374634},{"lat":47.55449668401905,"lng":7.594020366668701},{"lat":47.55476097144344,"lng":7.594733834266663},{"lat":47.55564071312942,"lng":7.595404386520386},{"lat":47.55734222921274,"lng":7.596879601478577},{"lat":47.558366732458836,"lng":7.597646713256836},{"lat":47.558851825947514,"lng":7.5981080532073975},{"lat":47.559398455765376,"lng":7.59829044342041},{"lat":47.56051341811087,"lng":7.597861289978027},{"lat":47.562243734764174,"lng":7.600200176239014},{"lat":47.56340931334826,"lng":7.599427700042725},{"lat":47.56411154382703,"lng":7.601873874664307},{"lat":47.564668977814115,"lng":7.60329008102417},{"lat":47.566449831063615,"lng":7.606991529464722},{"lat":47.566547559062634,"lng":7.60728120803833},{"lat":47.566051678071794,"lng":7.607855200767517},{"lat":47.56605891724411,"lng":7.608236074447632},{"lat":47.567018098727736,"lng":7.610859274864197},{"lat":47.56735471297147,"lng":7.611358165740967},{"lat":47.568831446671176,"lng":7.6139116287231445},{"lat":47.5700330718004,"lng":7.616153955459595},{"lat":47.571336007653464,"lng":7.618675231933594},{"lat":47.5719947017763,"lng":7.621883153915405},{"lat":47.57257376668949,"lng":7.6254236698150635},{"lat":47.572870534975856,"lng":7.627526521682739},{"lat":47.572870534975856,"lng":7.628964185714722},{"lat":47.57378978216563,"lng":7.632343769073486},{"lat":47.57558480102301,"lng":7.634221315383911},{"lat":47.57595393033753,"lng":7.6351118087768555},{"lat":47.577300144610156,"lng":7.638373374938965},{"lat":47.57764031155594,"lng":7.638888359069824},{"lat":47.57832787629415,"lng":7.639757394790649},{"lat":47.57898648247137,"lng":7.640937566757202},{"lat":47.580072078966325,"lng":7.641195058822632},{"lat":47.58086816875638,"lng":7.641860246658325},{"lat":47.58159911326714,"lng":7.643254995346069},{"lat":47.58193201530544,"lng":7.6447248458862305},{"lat":47.58251820722715,"lng":7.647192478179932},{"lat":47.582793208582785,"lng":7.647771835327148},{"lat":47.58443594974845,"lng":7.6494669914245605},{"lat":47.58474712398561,"lng":7.649885416030884},{"lat":47.58676066605177,"lng":7.650802731513977},{"lat":47.58754760888021,"lng":7.651033401489258},{"lat":47.58885010894288,"lng":7.651956081390381},{"lat":47.58974736790818,"lng":7.651923894882202},{"lat":47.59160696049506,"lng":7.652953863143921},{"lat":47.592663353312105,"lng":7.653704881668091},{"lat":47.594580724151726,"lng":7.655249834060669}]
			},
			{
				"line": "3",
				"color": "#1E47A5",
				"waypoints": [{"lat":47.548551674970845,"lng":7.630294561386108},{"lat":47.54843580938607,"lng":7.629683017730713},{"lat":47.54888478710027,"lng":7.627290487289429},{"lat":47.54920341411256,"lng":7.626560926437378},{"lat":47.54989859359768,"lng":7.625745534896851},{"lat":47.551426507768696,"lng":7.6242756843566895},{"lat":47.55270094238722,"lng":7.623063325881958},{"lat":47.554366350003946,"lng":7.619340419769287},{"lat":47.554923887684815,"lng":7.618396282196045},{"lat":47.55559002882421,"lng":7.615145444869995},{"lat":47.5556117506753,"lng":7.614222764968872},{"lat":47.55530040328238,"lng":7.613192796707153},{"lat":47.55408395852581,"lng":7.61003851890564},{"lat":47.55267197830826,"lng":7.605307102203369},{"lat":47.55270094238722,"lng":7.6044487953186035},{"lat":47.55275162948689,"lng":7.603311538696289},{"lat":47.55295437739535,"lng":7.602721452713013},{"lat":47.552469229307235,"lng":7.600157260894775},{"lat":47.55175960162647,"lng":7.596670389175415},{"lat":47.551426507768696,"lng":7.595071792602539},{"lat":47.55149167847268,"lng":7.594749927520752},{"lat":47.552476470356495,"lng":7.593441009521484},{"lat":47.55372191594306,"lng":7.592110633850098},{"lat":47.553968105171464,"lng":7.590039968490601},{"lat":47.55412740346764,"lng":7.588891983032227},{"lat":47.55435186842671,"lng":7.587786912918091},{"lat":47.55546693816452,"lng":7.5871968269348145},{"lat":47.556125831856384,"lng":7.585405111312866},{"lat":47.55675575544124,"lng":7.583988904953003},{"lat":47.55737119071039,"lng":7.584203481674194},{"lat":47.55802282017522,"lng":7.581081390380859},{"lat":47.55876856395159,"lng":7.5798797607421875},{"lat":47.55978941928917,"lng":7.577669620513916},{"lat":47.561802111259226,"lng":7.573925256729126},{"lat":47.56240300790167,"lng":7.572981119155884},{"lat":47.56338759472978,"lng":7.570856809616089},{"lat":47.56496579089355,"lng":7.567616701126099},{"lat":47.56626885280616,"lng":7.564977407455444},{"lat":47.566790068494846,"lng":7.563990354537964},{"lat":47.56828129584544,"lng":7.56158709526062},{"lat":47.56952636577012,"lng":7.559956312179565},{"lat":47.5706049198606,"lng":7.558400630950928},{"lat":47.572009178477174,"lng":7.5573813915252686},{"lat":47.57263891109153,"lng":7.557123899459839},{"lat":47.57373187730707,"lng":7.559398412704468},{"lat":47.57525185862498,"lng":7.55759596824646},{"lat":47.5765401891945,"lng":7.556126117706299},{"lat":47.57705406501644,"lng":7.555192708969116},{"lat":47.577929813598836,"lng":7.5534868240356445},{"lat":47.57839301353799,"lng":7.552982568740845},{"lat":47.579695741397174,"lng":7.552253007888794},{"lat":47.58047012537451,"lng":7.553583383560181},{"lat":47.58099843684226,"lng":7.5533366203308105},{"lat":47.58234452141611,"lng":7.556072473526001},{"lat":47.58466752144985,"lng":7.561136484146118},{"lat":47.589494110887394,"lng":7.555396556854248}]
			},
			{
				"line": "6",
				"color": "#0073C0",
				"waypoints": [{"lat":47.55112961798061,"lng":7.536535263061523},{"lat":47.55188270099466,"lng":7.539088726043701},{"lat":47.55236061344829,"lng":7.5400543212890625},{"lat":47.55296885935877,"lng":7.542157173156738},{"lat":47.55251991663103,"lng":7.544989585876465},{"lat":47.55166546662039,"lng":7.548401355743408},{"lat":47.55254888079405,"lng":7.549645900726318},{"lat":47.55338883455778,"lng":7.5520920753479},{"lat":47.55482251763861,"lng":7.555868625640869},{"lat":47.55718294068955,"lng":7.559173107147217},{"lat":47.557820091876835,"lng":7.560632228851318},{"lat":47.5577911306273,"lng":7.561683654785156},{"lat":47.557110536655316,"lng":7.563807964324951},{"lat":47.55709605583646,"lng":7.564988136291504},{"lat":47.55738567145322,"lng":7.570245265960693},{"lat":47.55724086384494,"lng":7.5705671310424805},{"lat":47.55632856671012,"lng":7.572176456451416},{"lat":47.555575547585136,"lng":7.5756096839904785},{"lat":47.55466322145552,"lng":7.579450607299805},{"lat":47.55354813461487,"lng":7.582046985626221},{"lat":47.552512675587785,"lng":7.584439516067505},{"lat":47.55180304849531,"lng":7.586660385131836},{"lat":47.55129616611763,"lng":7.586982250213623},{"lat":47.55113685921494,"lng":7.587615251541138},{"lat":47.55165822545907,"lng":7.588945627212524},{"lat":47.55241854193442,"lng":7.5897181034088135},{"lat":47.55342503915874,"lng":7.589857578277588},{"lat":47.55394638263902,"lng":7.590039968490601},{"lat":47.55414188510692,"lng":7.589074373245239},{"lat":47.554692184433925,"lng":7.589138746261597},{"lat":47.55506870169635,"lng":7.589374780654907},{"lat":47.556524060290485,"lng":7.588881254196167},{"lat":47.55678471726302,"lng":7.588376998901367},{"lat":47.557718727433475,"lng":7.587872743606567},{"lat":47.55861651996539,"lng":7.587239742279053},{"lat":47.55920297290943,"lng":7.587218284606934},{"lat":47.55998489995701,"lng":7.587926387786865},{"lat":47.5596156580832,"lng":7.588602304458618},{"lat":47.56082473452818,"lng":7.591134309768677},{"lat":47.56117224834381,"lng":7.592035531997681},{"lat":47.56163559651221,"lng":7.593441009521484},{"lat":47.56195414600083,"lng":7.5946104526519775},{"lat":47.56348170867821,"lng":7.599309682846069},{"lat":47.56347446914972,"lng":7.599513530731201},{"lat":47.564075346609776,"lng":7.601863145828247},{"lat":47.56458934475055,"lng":7.6031506061553955},{"lat":47.5665801350218,"lng":7.607206106185913},{"lat":47.56602272137253,"lng":7.607946395874023},{"lat":47.56694932780969,"lng":7.610574960708618},{"lat":47.567152020782764,"lng":7.6110148429870605},{"lat":47.568816969091905,"lng":7.613847255706787},{"lat":47.57001859455327,"lng":7.616153955459595},{"lat":47.571343246095424,"lng":7.618675231933594},{"lat":47.57255205187078,"lng":7.625284194946289},{"lat":47.57289224966248,"lng":7.627526521682739},{"lat":47.57287777320574,"lng":7.629071474075317},{"lat":47.57374635352771,"lng":7.632354497909546},{"lat":47.573999686741224,"lng":7.632654905319214},{"lat":47.57551966028563,"lng":7.634178400039673},{"lat":47.57580193622905,"lng":7.634543180465698},{"lat":47.576887598753125,"lng":7.637579441070557},{"lat":47.57753898546278,"lng":7.638823986053467},{"lat":47.57823378902109,"lng":7.639607191085815},{"lat":47.57888515898335,"lng":7.640883922576904},{"lat":47.579203603571166,"lng":7.641119956970215},{"lat":47.58012273958633,"lng":7.641184329986572},{"lat":47.580831983119445,"lng":7.641817331314087},{"lat":47.58162082433416,"lng":7.643212080001831},{"lat":47.58193201530544,"lng":7.644714117050171},{"lat":47.58243136439364,"lng":7.646859884262085},{"lat":47.582735313680566,"lng":7.64773964881897},{"lat":47.58431292686543,"lng":7.649370431900024},{"lat":47.58484843612878,"lng":7.649939060211182},{"lat":47.58621613086989,"lng":7.650561332702637},{"lat":47.58688911040184,"lng":7.650893926620483},{"lat":47.58749695544523,"lng":7.651097774505615},{"lat":47.5887922207395,"lng":7.65196681022644},{"lat":47.589783547382545,"lng":7.651870250701904},{"lat":47.59191809210176,"lng":7.6531147956848145},{"lat":47.594580724151726,"lng":7.6551854610443115}]
			},
			{
				"line": "8",
				"color": "#FB72B5",
				"waypoints": [{"lat":47.54572737837313,"lng":7.557263374328613},{"lat":47.546074992320655,"lng":7.557992935180664},{"lat":47.54619086312421,"lng":7.55984902381897},{"lat":47.546516748386,"lng":7.563303709030151},{"lat":47.54732059003575,"lng":7.56632924079895},{"lat":47.54779854409144,"lng":7.567434310913086},{"lat":47.548030277822356,"lng":7.567616701126099},{"lat":47.5491527235811,"lng":7.569762468338013},{"lat":47.549768248146584,"lng":7.57082462310791},{"lat":47.55135409578035,"lng":7.574654817581177},{"lat":47.551600296132555,"lng":7.575159072875977},{"lat":47.552990582296445,"lng":7.576714754104614},{"lat":47.55306299202365,"lng":7.577186822891235},{"lat":47.552932654442664,"lng":7.57756233215332},{"lat":47.55170167241198,"lng":7.579107284545898},{"lat":47.55128892490528,"lng":7.579590082168579},{"lat":47.55096306931429,"lng":7.5803303718566895},{"lat":47.549369968370826,"lng":7.58432149887085},{"lat":47.548993410162986,"lng":7.5852978229522705},{"lat":47.54871823130021,"lng":7.587615251541138},{"lat":47.54801579449418,"lng":7.589203119277954},{"lat":47.54800131116201,"lng":7.590104341506958},{"lat":47.548522708598675,"lng":7.590672969818115},{"lat":47.54879064693046,"lng":7.591155767440796},{"lat":47.55116582414237,"lng":7.594642639160156},{"lat":47.55137581938736,"lng":7.59479284286499},{"lat":47.5515858137909,"lng":7.594642639160156},{"lat":47.553692952428385,"lng":7.592110633850098},{"lat":47.55412740346764,"lng":7.589106559753418},{"lat":47.55448944324895,"lng":7.5890421867370605},{"lat":47.5548804434033,"lng":7.589385509490967},{"lat":47.55529316262332,"lng":7.58929967880249},{"lat":47.5565385412674,"lng":7.588849067687988},{"lat":47.55674851498326,"lng":7.5884199142456055},{"lat":47.55774044840214,"lng":7.5878942012786865},{"lat":47.55857307874545,"lng":7.587293386459351},{"lat":47.55910885127422,"lng":7.587100267410278},{"lat":47.55998489995701,"lng":7.587947845458984},{"lat":47.55960841802045,"lng":7.588591575622559},{"lat":47.56083197442285,"lng":7.591198682785034},{"lat":47.56115776864751,"lng":7.592067718505859},{"lat":47.561642836294816,"lng":7.593333721160889},{"lat":47.562091700863,"lng":7.592883110046387},{"lat":47.5624898839544,"lng":7.5923895835876465},{"lat":47.563011137245276,"lng":7.592003345489502},{"lat":47.56403190991607,"lng":7.591423988342285},{"lat":47.565327755787486,"lng":7.591381072998047},{"lat":47.56623989622693,"lng":7.5910162925720215},{"lat":47.56767322768327,"lng":7.590597867965698},{"lat":47.56861428256186,"lng":7.590404748916626},{"lat":47.569996878675106,"lng":7.59029746055603},{"lat":47.57080036017103,"lng":7.590093612670898},{"lat":47.572211851869085,"lng":7.589932680130005},{"lat":47.57386940124162,"lng":7.590372562408447},{"lat":47.57700340142712,"lng":7.591552734375},{"lat":47.579912859555684,"lng":7.592604160308838},{"lat":47.5806872403216,"lng":7.592904567718506},{"lat":47.58256886548015,"lng":7.593591213226318},{"lat":47.583806359006616,"lng":7.593859434127808},{"lat":47.58500040397586,"lng":7.593698501586914},{"lat":47.58645493104908,"lng":7.592840194702148},{"lat":47.58739564842818,"lng":7.592529058456421},{"lat":47.58803966826901,"lng":7.592636346817017},{"lat":47.58904548115666,"lng":7.593226432800293},{"lat":47.59098469173244,"lng":7.5940632820129395},{"lat":47.59054331056669,"lng":7.597571611404419},{"lat":47.59018875578663,"lng":7.6004040241241455},{"lat":47.590087453979734,"lng":7.6015520095825195},{"lat":47.59028282157462,"lng":7.6035261154174805},{"lat":47.590680790345324,"lng":7.604395151138306},{"lat":47.59146948314935,"lng":7.604942321777344},{"lat":47.59346648700659,"lng":7.605940103530884},{"lat":47.59270676625934,"lng":7.608836889266968},{"lat":47.5927501791706,"lng":7.609008550643921},{"lat":47.59265611781737,"lng":7.609587907791138}]
			}
		];

		this._calculate();

	}

	_calculate() {
		for(var i = 0; i < this.routes.length; i++) {
			console.log('line ' + this.routes[i].line + ' initialized (' + this.routes[i].waypoints.length + ' waypoints)');
			var totDistance = 0;
			var distance = 0;
			for(var x = 0; x < this.routes[i].waypoints.length; x++) {
				// distance
				if(x>0) { // skip first entry
					distance = helper.getDistanceFromLatLonInKm(this.routes[i].waypoints[x-1], this.routes[i].waypoints[x]);
					this.routes[i].waypoints[x-1].distance = distance;
					totDistance += distance;
				}
				this.routes[i].waypoints[x].distance_total = totDistance;
			}
		}
	}

	getRoute(line) {
		var result = this.routes.find(function(e){ return e.line == line; });
		return result;
	}
}

module.exports = routes;